/*Putrid Python Pristine Products*/

/*drops*/
drop table if exists Orders;
drop table if exists Customers;
drop table if exists Shippings;
drop table if exists Factories;
drop table if exists Managers;
drop table if exists Employees;
drop table if exists Boss;
drop table if exists Products;
drop table if exists Makes;
drop table if exists Customers;
drop table if exists Customer_Orders;
drop table if exists Customer_Order_Details;
drop table if exists Vendors;
drop table if exists Partners;
drop table if exists Vendor_Orders;
drop table if exists Vendor_Order_Details;


/*DB DEFINITIONS*/


/*Factories*/
create table Factories (
  Location varchar(255) primary key,
  Factory_Name varchar(255) not null,
  Category_Specialty varchar(100) default 'Varied'
    check (Category_Specialty in ('Chemical', 'Tool', 'Purification', 'Varied'))
);

/*Managers*/
create table Managers (
  ID int primary key,
  Name varchar(255) not null,
  Age int check (Age >= 0),
  Salary bigint check (Salary >= 0),
  Hire_Date timestamp default current_timestamp,
  Factory varchar(255),
  foreign key (Factory) references Factories (Location)
);

/*Employees*/
create table Employees (
	ID int primary key,
    Name varchar(255) not null,
    Age int check (Age >= 0),
    Salary bigint check (Salary >= 0),
	Works_At varchar,
    Manager int,
    Role varchar(255) default 'Varied'
    	check (Role in ('Assembly Worker', 'Janitor', 'Secretary', 'Marketing', 'IT', 'Sales', 'Varied')),
	foreign key (Works_At) references Factories (Location),
    foreign key (Manager) references Managers (ID)
);

/*Boss*/
create table Boss (
  Manager_ID int,
  Manager_Name varchar(255),
  Employee_ID int,
  Employee_Name varchar(255),
  foreign key (Manager_ID) references Managers (ID),
  foreign key (Manager_Name) references Managers (Name),
  foreign key (Employee_ID) references Employees (ID),
  foreign key (Employee_Name) references Employees (Name)
);

/*Products*/

/*Makes*/

/*Customers*/

/*Customer_Orders*/

/*Customer_Order_Details*/

/*Vendors*/

/*Partners*/

/*Vendor_Orders*/

/*Vendor_Order_Details*/



/*EXTRA INTEGRITY CONSTRAINTS*/



/*VIEWS*/



/*GRANT ROLES*/




