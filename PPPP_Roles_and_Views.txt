-- ManagerDashboard
create view ManagerDashboard as
select 
	-- from Managers
	M.ID AS Manager_ID,
    M.Name AS Manager_Name,
    M.Age AS Manager_Age,
    M.Salary AS Manager_Salary,
    M.Hire_Date AS Manager_Hire_Date,
    M.Factory AS Assigned_Factory,

	-- Factory info
	F.Factory_Name AS Factory_Name,
	F.Category_Specialty AS Factory_Specialty,
	

	-- Partners info
	P.Vendor_ID AS MyPartner_ID,
	V.Name AS MyPartner_Name,

	-- My Employees
	E.ID AS MyEmployee_IDs,
	E.Name AS MyEmployee_Names,
	E.Role AS Employee_Roles

from Managers M 
left join Factories F on M.Factory = F. Location
left join Partners P on M.ID = P.Manager_ID
left join Vendors V on P.Vendor_ID = V.ID
left join Employees E on M.ID = E.Manager;

-- VendorDashboard

create view VendorDashboard as
select
	-- vendor info
	V.ID as MyID,
	V.Name as Name,
	V.Partner,

	-- Vendors Orders
	A.ID as MyOrderID

from Vendors as V, Vendor_Orders as A;


--EmployeeDashboard View

create view EmployeeDashboard as
select 

ID as Employee_ID,
Name as Employee_Name,
Age as Employee_Age,
Salary as Employee_Salary,
Works_At as Employee_Works,
Role as Employee_Role


from Employees;



/*
How it's structured:

View Info
Role

*/
/*Factories*/
--shows basic factory info
create view FactoryInfo as
select Location, Factory_name, Category_Specialty
from Factories

--creating role for factory managers
create role FactoryManager
grant select, insert, update, delete
on Factories
to FactoryManager;

/*Managers*/
--view for manager details (for managmanet purposes?)
create view ManagerDetails as 
select ID, Name, Age, Salary, Hire_Date, Factory
from Managers;


--creating role for HR (human Resourses)
create role HRManager
grant select, insert, update
on Managers
to HRManager;

/*Employees*/
--create view for employee information
create view EmployeeDetails as
select ID, Name, Age, Salary, Works_At, Manager, Role
from Employees;

--operations team could manage employee data
create role OPTeam
grant select, insert, update, delete
on Employees
to OPTeam;

/*Products*/
--creating view to show product catalog
create view ProductCatalog as
select ID, Name, Stock, Price, Category
from Products;


--create role for sales team (people to view info in Product Catalog)
create role SalesTeam
grant select, insert, update
on Products
to SalesTeam;

/*Makes*/
--create view ProductionDetails AS
create view ProductionDetails as
select Factory_Location, Product_ID, Quality_Grade, Num_Produced
from Makes;

--create role for production managers
create role ProductionManager
grant select, insert, update
on Makes
to ProductionManager;

/*Customer*/
--create view to show customer information
create view CustomerDetails as
select ID, Name, Credit_card
from Customers;

--create role for customer service team
create role CustomerService
grant select, insert, update
on Customers
to CustomerService;

/*Customer Orders*/
--create view to show order details
create view OrderDetails as
select ID, Customer_ID, Order_Date, Total_Price
from Customer_Orders;

--create role for order processing team
create role OrderProcessing
grant select, insert, update
on Customer_Orders
to OrderProcessing;

/*Customer Order Details*/
--create view to show order line items (what products the customer has)
create view OrderLineItems as
select Order_ID, Customer_ID, Product_ID, Amount_Bought
FROM Customer_Order_Details;

--create role for order fulfillment team (provide the access to line-item details of customer orders)
create role OrderFulfillment
grant select, insert, update
on Customer_Order_Details
to OrderFulfillment;

/*Vendor*/
--create view to show vendor infortmation
create view VendorDetails as
select ID, Name, Partner
from Vendors;

--create role for procurement team (meaning the process of sourcing, purchasing, receiving, and inspecting all of the goods and services your business needs to operate)
create role ProcurementTeam
grant select, insert, update
on Vendors
to ProcurementTeam;

/*Vendor Orders*/
--create view to show vendor order details
create view VendorOrderDetails as
select ID, Vendor_ID, Order_Date, Total_Price
from Vendor_Order

--create role vendor management team (vendor managers can use to track things like order history and purchases)
create role VendorManager
grant select, insert, update
on Vendor_Orders
to VendorManager;

/*Vendor Order Details*/
-- Create view to show vendor order line items
create view VendorOrderLineItems as
select Order_ID, Vendor_ID, Product_ID, Amount_Bought
from Vendor_Order_Details;

--create role for inventory management team (idea was this could help track inventory, how many products we have in stock left)
create role InventoryManager;
grant select, insert, update
on Vendor_Order_Details
to InventoryManager;




